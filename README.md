# home-assignment-throttler

В коде реализован клиент. Клиент обращается к сервису обработки данных. Клиент интеллектуально передает данные сервису, реагирует на ошибки сервиса, на ограничения сервиса. 

Клиент передает сервису данные пакетами (батчами). В случае ошибки, клиент будет отслеживать количество успешно обработанных элементов. Клиент повторит проваленную операцию опираясь на проверку лимитов сервиса, и на успешно обработанное количество элементов.

В целом, имплементация не стремится достичить максимального перформэнса. А стремится реализоть отказоустойчивый клиент, который обеспечит бесперебойную работу клиента: 99.9 или 99.99.

```
├── README.md
├── go.mod
├── go.sum
├── internal
│   ├── client
│   │   ├── client.go
│   │   └── client_test.go
│   └── service
│       └── service.go
└── tmp
    ├── .gitkeep
```

Тесты:
```
go test ./...
```

Установить линтеры - глобально:
```
curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b $(go env GOPATH)/bin v1.56.1
```

Более подробная информация https://golangci-lint.run/usage/quick-start/

Запусить линтеры:
```
golangci-lint run ./...
```

В ветке симулятора можно посмотреть более глубокие попытки тестирования кода, Dockerfile и тп - https://github.com/gauffer/home-assignment-throttler/tree/feat/simulator

За рамками этого домашнего задания.
Что стоит улучшить?
- os.Exit(1) в случае неожиданной ошибки от сервиса,
- переработать, упростить симулятор,
- переработать логирование, чтобы можно было красиво отслеживать сколько осталось и сколько элементов обработано,
- добавить как минимум еще 3 теста на:
    - неизвествную ошибку,
    - превышение количества ретраев,
    - частичную обработку.
